<mvc:View
	controllerName="CriptAnaliser.src.pages.criptoAnalizer.CriptoAnalizer"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:invCharts="CriptAnaliser.controls.invCharts"
    xmlns:custom="CriptAnaliser.controls"
    xmlns:l="sap.ui.layout"
    xmlns:grid="sap.ui.layout.cssgrid"
    xmlns:f="sap.f"
	height="100%">
    <Page 
		showNavButton="true" 
		title="{i18n>Commom.CriptoAnalizer}" 
		navButtonPress="onNavBack">
        <content>
            <HBox>
                <VBox class="sapUiTinyMargin" >
                    <Label text="Moeda" />
                    <Select					
                    selectedKey="{View>/SelectedCoin}"
                    items="{
                        path: 'Coins>/',
                        sorter: { path: 'Value' }
                    }">
                        <core:Item key="{Coins>Key}" text="{Coins>Value}" />
                    </Select>
                </VBox>
                <VBox class="sapUiTinyMargin" width="230px">
                    <Label text="Inicio" />
                    <DateRangeSelection
                        id="DRS1"		
                        dateValue="{path:'View>/dateValueDRS1'}"
                        secondDateValue="{path:'View>/secondDateValueDRS1'}"
                        displayFormat="dd/MM/yyyy"
                        change="handleRangeChange"
		            />
                </VBox>                
                <VBox class="sapUiTinyMargin">
                    <Label text="Limpar" />
                    <Button  width="100%"  text="Limpar dados" type="Ghost" press="onClean"></Button>
                </VBox>
                <VBox class="sapUiTinyMargin">
                    <Label text="API" />
                    <Button  width="100%"  text="Buscar" type="Accept" press="onFind"></Button>
                </VBox>
            </HBox>
            <Panel class="sapUiDemoFlexBoxSizeAdjustments primary-bg">
                <headerToolbar>
                    <Toolbar>
                        <Title level="H2" text="Resumo de hoje" />
                    </Toolbar>
                </headerToolbar>
                <FlexBox				 
                    backgroundDesign="Transparent" 					
					alignItems="Start"
                    alignContent="SpaceBetween"
					items="{Tickers>/}">
                    <VBox class="sapUiContentPadding sapUiTinyMargin bordered">
                        <custom:MinMax minima="{Tickers>low}" maxima="{Tickers>high}" day="{Tickers>date}" current="{Tickers>last}" coin="{Tickers>coin}"/>
                        <ProgressIndicator                            					
                            percentValue="{Tickers>percent}"
                            displayValue="{Tickers>percent}%^"
                            showValue="true"
                            state="{path:'Tickers>percent', formatter: '.fmt.formatPercentVariation'}" />
                        <layoutData>
                            <FlexItemData growFactor="1" />
                        </layoutData>
                    </VBox>
                </FlexBox>
            </Panel>
                    <VBox class="sapUiSmallMargin" width="95%" >                   
					    <invCharts:MultiLineChart chartType="{Chart>/selectedType}" id="multiLineChart" height="350px"  />				
				    </VBox>
                    <f:GridList
					id="gridList"
					headerText="Resumo por data"
					items="{path:'/', sorter:'coin'}">
                        <f:customLayout>
                            <grid:GridBoxLayout boxMinWidth="10rem"/>
                        </f:customLayout>
                        <CustomListItem>
                            <VBox height="100%">
                                <VBox class="sapUiSmallMargin">
                                    <layoutData>
                                        <FlexItemData growFactor="1" shrinkFactor="0" />
                                    </layoutData>
                                    <custom:MinMax minima="{lowest}" maxima="{highest}" day="{date}" coin="{coin}"/>
                                </VBox>
                            </VBox>
                        </CustomListItem>
                    </f:GridList>
                   
                
        </content>
    </Page>
</mvc:View>
